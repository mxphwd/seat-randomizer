:root{
  --seat: 112px;
  --gap: 14px;
  --aisle: 42px;

  --glass: rgba(255,255,255,.10);
  --glass-border: rgba(255,255,255,.18);
  --glass-hover: rgba(255,255,255,.18);
  --glass-spot: rgba(255,255,255,.16);

  --txt: #eef3f6;
  --txt-dim: rgba(238,243,246,.88);
}

*{ box-sizing:border-box; }

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro",system-ui,sans-serif;
  color:var(--txt);
  min-height:100vh;
  display:flex; align-items:center; justify-content:center;
  background: radial-gradient(1400px 800px at 50% -10%, #1b2c38 0%, #0f1921 60%, #0a1217 100%);
}
body::after{
  content:"";
  position:fixed; inset:0; pointer-events:none;
  background: radial-gradient(800px 200px at 50% 0%, rgba(255,255,255,.08), transparent 65%);
  z-index:0;
}

#overlay{
  position:fixed; inset:0; pointer-events:none; opacity:0; z-index:3;
  transition: opacity .25s cubic-bezier(0.4,0,0.2,1), background-color .25s cubic-bezier(0.4,0,0.2,1);
}
#overlay.dim{ opacity:1; background:rgba(0,0,0,.35); }
#overlay.flash{ opacity:1; background:rgba(255,255,255,.16); animation:flashOut .35s cubic-bezier(0.4,0,0.2,1) forwards; }
@keyframes flashOut{ 0%{opacity:1} 100%{opacity:0} }

#app{ text-align:center; width:min(1120px,96vw); position:relative; z-index:1; }

.title{
  font-weight:650; letter-spacing:.3px; opacity:.95; margin:4px 0 2px;
  text-shadow:0 6px 26px rgba(0,0,0,.45);
}

.controls{
  display:flex; align-items:center; justify-content:center; gap:12px;
  margin:10px 0 12px;
}
label{ opacity:.9; font-size:.95rem; }
input[type="range"]{ width:200px; }
#shuffleValue{ min-width:2ch; display:inline-block; text-align:center; font-variant-numeric:tabular-nums; }

button{
  background:var(--glass); border:1px solid var(--glass-border);
  padding:9px 16px; border-radius:14px; color:var(--txt);
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
  cursor:pointer; transition:all .25s cubic-bezier(0.4,0,0.2,1);
  box-shadow:0 8px 22px rgba(0,0,0,.28), inset 0 1px rgba(255,255,255,.18);
}
button:hover{ background:var(--glass-hover); box-shadow:0 14px 34px rgba(0,0,0,.38), inset 0 1px rgba(255,255,255,.22); transform:translateY(-1px); }
button:active{ transform:translateY(1px) scale(.985); }

/* Grid with aisle gaps: columns 3 and 6 are spacing */
#grid{
  display:grid;
  grid-template-columns:
    var(--seat) var(--seat) var(--aisle)
    var(--seat) var(--seat) var(--aisle)
    var(--seat) var(--seat);
  gap:var(--gap); justify-content:center; margin:8px auto 0; grid-auto-rows:var(--seat);
  opacity:0; transform:translateY(10px);
  transition:opacity .6s cubic-bezier(0.4,0,0.2,1), transform .6s cubic-bezier(0.4,0,0.2,1), filter .25s cubic-bezier(0.4,0,0.2,1);
}
#grid.ready{ opacity:1; transform:translateY(0); }
#grid.blurred{ filter:blur(2px); }

.seat{
  position:relative; width:var(--seat); height:var(--seat);
  border-radius:18px;
  background:linear-gradient(145deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
  border:1px solid var(--glass-border);
  box-shadow:0 8px 22px rgba(0,0,0,.28), inset 0 0 12px rgba(255,255,255,.05);
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
  display:flex; align-items:center; justify-content:center; overflow:hidden;
  transition:all .25s cubic-bezier(0.4,0,0.2,1);
}
.seat:hover{ box-shadow:0 12px 28px rgba(0,0,0,.32), inset 0 0 12px rgba(255,255,255,.06); transform:translateY(-1px); }

.name{
  font-size:1rem; line-height:1.15; text-align:center; color:var(--txt-dim);
  padding:0 10px; letter-spacing:.2px;
  opacity:0; transform:translateY(2px);
  text-shadow:0 1px 2px rgba(0,0,0,.35);
  transition:opacity .3s cubic-bezier(0.4,0,0.2,1), transform .3s cubic-bezier(0.4,0,0.2,1), text-shadow .45s cubic-bezier(0.4,0,0.2,1);
}
.name.show{ opacity:1; transform:translateY(0); text-shadow:0 0 10px rgba(255,255,255,.22), 0 0 20px rgba(255,255,255,.1); }

#countdown{
  font-size:4.8rem; font-weight:800; letter-spacing:.03em;
  margin:6px 0 10px; display:none;
  text-shadow:0 10px 38px rgba(0,0,0,.55);
}
#countdown.tick{ animation:tickIn .3s cubic-bezier(0.4,0,0.2,1); }
@keyframes tickIn{
  0%{ transform:translateY(6px) scale(0.98); filter:blur(2px); opacity:.85; }
  100%{ transform:translateY(0) scale(1); filter:blur(0); opacity:1; }
}

.seat.spotlit{
  background:var(--glass-spot);
  box-shadow:0 16px 32px rgba(0,0,0,.45), inset 0 0 16px rgba(255,255,255,.08);
  transition:all .25s cubic-bezier(0.4,0,0.2,1);
}
.seat.spotlit::before{
  content:""; position:absolute; inset:-28%; pointer-events:none;
  background:radial-gradient(220px 220px at 50% 40%, rgba(255,255,255,.20), rgba(255,255,255,0) 65%);
  mix-blend-mode:screen; opacity:.8; transition:opacity .3s cubic-bezier(0.4,0,0.2,1);
}

.seat::after{
  content:""; position:absolute; inset:0; border-radius:18px; pointer-events:none; opacity:0;
}
.seat.ripple::after{ animation:seatRipple .6s cubic-bezier(0.4,0,0.2,1); }
@keyframes seatRipple{
  0%{ opacity:.35; box-shadow:0 0 0 0 rgba(255,255,255,.4); }
  100%{ opacity:0; box-shadow:0 0 0 22px rgba(255,255,255,0); }
}

#grid.all-shift .seat{ animation:glassShift .6s cubic-bezier(0.4,0,0.2,1); }
@keyframes glassShift{
  0%{
    background:linear-gradient(145deg, rgba(255,255,255,.16), rgba(255,255,255,.08));
    box-shadow:0 14px 30px rgba(0,0,0,.40), inset 0 0 18px rgba(255,255,255,.12);
  }
  100%{
    background:linear-gradient(145deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
    box-shadow:0 8px 22px rgba(0,0,0,.28), inset 0 0 12px rgba(255,255,255,.05);
  }
}

/* Footer link */
.footer{
  position:fixed; bottom:12px; right:18px; padding:6px 12px;
  font-size:.82rem; font-weight:500; color:var(--txt-dim); text-decoration:none;
  background:var(--glass); border:1px solid var(--glass-border); border-radius:12px;
  backdrop-filter:blur(10px); -webkit-backdrop-filter:blur(10px);
  box-shadow:0 4px 12px rgba(0,0,0,.25), inset 0 1px rgba(255,255,255,.1);
  user-select:none; pointer-events:auto; cursor:pointer;
  transition:transform .2s cubic-bezier(0.4,0,0.2,1), box-shadow .25s cubic-bezier(0.4,0,0.2,1), background-color .25s cubic-bezier(0.4,0,0.2,1), color .2s cubic-bezier(0.4,0,0.2,1);
}
.footer:hover{ transform:translateY(-1px); background:var(--glass-hover); box-shadow:0 8px 18px rgba(0,0,0,.32), inset 0 1px rgba(255,255,255,.15); color:var(--txt); }
.footer:active{ transform:translateY(0); }
.footer:focus-visible{ outline:2px solid rgba(255,255,255,.35); outline-offset:3px; border-radius:12px; }